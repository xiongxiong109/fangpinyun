<div class="container" ng-controller="appListCtrl">
	<table class="table table-hover table-striped table-bordered">
		<thead>
			<tr>
				<th>楼盘编号</th>
				<th>楼盘名</th>
				<th>楼盘区域</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="item in showData | limitTo:perItem">
				<td>{{item._id+1}}</td>
				<td>{{item.name}}</td>
				<td>{{item.addr}}</td>
				<td>
					<a href="javascript:void(0);" ng-click="editModal('#editModal',item._id)">编辑</a>
					|
					<a href="javascript:void(0);" ng-click="deleteModal('#deleteModal',item._id)">删除</a>
				</td>
			</tr>
		</tbody>
	</table>
	<ul class="pagination">
		<li ng-repeat="i in pagination"><a href="#/app/list/{{i}}" class="{{i == curId ? 'active' : ''}}">{{i}}</a></li>
	</ul>
	<!-- 模态框 -->
	<div class="modal fade" id="editModal" role="edit">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">编辑</h4>
				</div>
				<div class="modal-body">
					<form action="">
						<div class="form-group" ng-class="{false:'has-error'}[isNameValid.rst]">
							<label for="buildName">楼盘名</label>
							<input type="text" id="name" name="name" ng-model="editData.name" class="form-control" >
							<span class="text-danger" ng-hide="{{isNameValid.rst}}">{{isNameValid.msg}}</span>
						</div>
						<div class="form-group" ng-class="{false:'has-error'}[isAddrValid.rst]">
							<label for="buildAddr">楼盘地址</label>
							<input type="text" id="addr" name="addr" ng-model="editData.addr" class="form-control">
							<span class="text-danger" ng-hide="{{isAddrValid.rst}}">{{isAddrValid.msg}}</span>
						</div>
						<div class="form-group">
							<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
							<button type="button" class="btn btn-primary" ng-click="ajaxEdit()" data-sending="提交中..." data-static="保存" data-success="保存成功" data-error="保存失败" id="ajaxBtn">保存</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="deleteModal" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">删除楼盘</h4>
				</div>
				<div class="modal-body">
					<p class="alert alert-danger">确定要删除该楼盘吗?</p>
					<p class="text text-muted">{{deleteData.name}},{{deleteData.addr}}</p>
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-danger" ng-click="ajaxDelete()">确定</button>
				</div>
			</div>
		</div>
	</div>
</div>